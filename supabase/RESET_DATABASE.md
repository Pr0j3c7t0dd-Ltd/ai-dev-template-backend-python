# Database Reset ProcedureThis document outlines the steps to reset the local Supabase database to a clean state using the consolidated migration file.## BackgroundWe've consolidated all our database migrations into a single file (`supabase/migrations/20250425000000_consolidated_schema.sql`) to simplify database setup and maintenance. This allows for a clean reset of the database without having to run through all historical migrations.## Reset Procedure1. Stop your Supabase instance if it's running:   ```bash   supabase stop   ```2. Wipe the local database:   ```bash   supabase db reset   ```3. Start Supabase with the fresh database:   ```bash   supabase start   ```4. Run migrations to apply the consolidated schema:   ```bash   supabase migration up   ```5. Verify the database schema:   ```bash   supabase db lint   ```## TroubleshootingIf you encounter issues:1. Make sure you've linked your Supabase CLI to your project:   ```bash   supabase link   ```2. Check for any errors in the migration output.3. For more detailed information, run:   ```bash   supabase migration up --debug   ```## Adding New MigrationsWhen adding new features that require database changes, create new migration files with dates after `20250425000000` using:```bashsupabase migration new <migration_name>```## Full Database DumpIf you need to create a new consolidated schema dump in the future:```bashPGPASSWORD=postgres pg_dump --schema-only --no-owner --no-privileges -h 127.0.0.1 -p 54322 -U postgres -d postgres > schema.sql```Then extract the relevant portions for your consolidated migration file.
